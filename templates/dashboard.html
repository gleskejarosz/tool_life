{% extends "base.html" %}
{% block content %}
{% load mathfilters %}

<h4>{{ year }}</h4>
<div>
<div class="row">
    <div class="col">
        <table class="table">
        <thead>
        <tr>
            <th scope="col">Month</th>
            <th scope="col">Line</th>
            <th scope="col">Total Output</th>
            <th scope="col">Total Good</th>
            <th scope="col">Total Scrap</th>
            <th scope="col">Total Rework</th>
            <th scope="col">Total Available Time</th>
            <th scope="col">Average Availability</th>
            <th scope="col">Average Performance</th>
            <th scope="col">Average Quality</th>
            <th scope="col">Average OEE</th>
        </tr>
        </thead>
        <tbody>
        {% for object in monthly_records %}
            <tr>
                <td>{{ object.month }}</td>
                <td>{{ object.line }}</td>
                <td>{{ object.total_output }}</td>
                <td>{{ object.total_good }}</td>
                <td>{{ object.total_scrap }}</td>
                <td>{{ object.total_rework }}</td>
                <td>{{ object.total_available_time }}</td>
                <td>{{ object.total_availability|div:object.counter|floatformat:"2" }}%</td>
                <td>{{ object.total_performance|div:object.counter|floatformat:"2" }}%</td>
                <td>{{ object.total_quality|div:object.counter|floatformat:"2" }}%</td>
                <td>{{ object.total_oee|div:object.counter|floatformat:"2" }}%</td>
            </tr>
        {% endfor %}
        </tbody>
        </table>
        </div>

      <div class="col">
          <b>{{ yesterday|date:'d-m-Y' }}</b>
        <table class="table">
        <thead>
        <tr>
            <th scope="col">Pos</th>
            <th scope="col">Line</th>
            <th scope="col">Availability</th>
            <th scope="col">Performance</th>
            <th scope="col">Quality</th>
            <th scope="col">OEE</th>
        </tr>
        </thead>
        <tbody>
        {% for pareto in paretos %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ pareto.line }}</td>
                <td>{{ pareto.availability }}%</td>
                <td>{{ pareto.performance }}%</td>
                <td>{{ pareto.quality }}%</td>
                <td>{{ pareto.oee }}%</td>
            </tr>
        {% endfor %}
        </tbody>
        </table>
    </div>
</div>
</div>
{% endblock %}
